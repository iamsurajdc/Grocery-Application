sudo: required
addons: 
  chrome: stable
language: node_js
node_js:
  - "12.2.0"
script: echo "Running tests against $(node -v) ..."
cache: 
    - npm

branches: 
 - only:
    - master

before_install: echo "Before Dependancy Install By Suraj..."

before_script: 
    - npm install -g @angular/cli
    # - npm install -g firebase-tools

script: 
  - npm ci
  - ng build --prod --base-href https://iansurajdc.github.io/Grocery-Application/
  # - ng build --prod

# after_success: 
#   - firebase deploy --token $FIREBASE_TOKEN

# Deploy To Github Pages
deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  local_dir: dist
  on:
    branch: master